USE [master]
GO
/****** Object:  Database [BD_FARMACIA]    Script Date: 10/06/2020 12:03:48 a. m. ******/
CREATE DATABASE [BD_FARMACIA]
 CONTAINMENT = NONE
 ON  PRIMARY 
( NAME = N'BD_FARMACIA', FILENAME = N'C:\Program Files\Microsoft SQL Server\MSSQL14.SQLEXPRESS\MSSQL\DATA\BD_FARMACIA.mdf' , SIZE = 8192KB , MAXSIZE = UNLIMITED, FILEGROWTH = 65536KB )
 LOG ON 
( NAME = N'BD_FARMACIA_log', FILENAME = N'C:\Program Files\Microsoft SQL Server\MSSQL14.SQLEXPRESS\MSSQL\DATA\BD_FARMACIA_log.ldf' , SIZE = 8192KB , MAXSIZE = 2048GB , FILEGROWTH = 65536KB )
GO
ALTER DATABASE [BD_FARMACIA] SET COMPATIBILITY_LEVEL = 140
GO
IF (1 = FULLTEXTSERVICEPROPERTY('IsFullTextInstalled'))
begin
EXEC [BD_FARMACIA].[dbo].[sp_fulltext_database] @action = 'enable'
end
GO
ALTER DATABASE [BD_FARMACIA] SET ANSI_NULL_DEFAULT OFF 
GO
ALTER DATABASE [BD_FARMACIA] SET ANSI_NULLS OFF 
GO
ALTER DATABASE [BD_FARMACIA] SET ANSI_PADDING OFF 
GO
ALTER DATABASE [BD_FARMACIA] SET ANSI_WARNINGS OFF 
GO
ALTER DATABASE [BD_FARMACIA] SET ARITHABORT OFF 
GO
ALTER DATABASE [BD_FARMACIA] SET AUTO_CLOSE ON 
GO
ALTER DATABASE [BD_FARMACIA] SET AUTO_SHRINK OFF 
GO
ALTER DATABASE [BD_FARMACIA] SET AUTO_UPDATE_STATISTICS ON 
GO
ALTER DATABASE [BD_FARMACIA] SET CURSOR_CLOSE_ON_COMMIT OFF 
GO
ALTER DATABASE [BD_FARMACIA] SET CURSOR_DEFAULT  GLOBAL 
GO
ALTER DATABASE [BD_FARMACIA] SET CONCAT_NULL_YIELDS_NULL OFF 
GO
ALTER DATABASE [BD_FARMACIA] SET NUMERIC_ROUNDABORT OFF 
GO
ALTER DATABASE [BD_FARMACIA] SET QUOTED_IDENTIFIER OFF 
GO
ALTER DATABASE [BD_FARMACIA] SET RECURSIVE_TRIGGERS OFF 
GO
ALTER DATABASE [BD_FARMACIA] SET  ENABLE_BROKER 
GO
ALTER DATABASE [BD_FARMACIA] SET AUTO_UPDATE_STATISTICS_ASYNC OFF 
GO
ALTER DATABASE [BD_FARMACIA] SET DATE_CORRELATION_OPTIMIZATION OFF 
GO
ALTER DATABASE [BD_FARMACIA] SET TRUSTWORTHY OFF 
GO
ALTER DATABASE [BD_FARMACIA] SET ALLOW_SNAPSHOT_ISOLATION OFF 
GO
ALTER DATABASE [BD_FARMACIA] SET PARAMETERIZATION SIMPLE 
GO
ALTER DATABASE [BD_FARMACIA] SET READ_COMMITTED_SNAPSHOT OFF 
GO
ALTER DATABASE [BD_FARMACIA] SET HONOR_BROKER_PRIORITY OFF 
GO
ALTER DATABASE [BD_FARMACIA] SET RECOVERY SIMPLE 
GO
ALTER DATABASE [BD_FARMACIA] SET  MULTI_USER 
GO
ALTER DATABASE [BD_FARMACIA] SET PAGE_VERIFY CHECKSUM  
GO
ALTER DATABASE [BD_FARMACIA] SET DB_CHAINING OFF 
GO
ALTER DATABASE [BD_FARMACIA] SET FILESTREAM( NON_TRANSACTED_ACCESS = OFF ) 
GO
ALTER DATABASE [BD_FARMACIA] SET TARGET_RECOVERY_TIME = 60 SECONDS 
GO
ALTER DATABASE [BD_FARMACIA] SET DELAYED_DURABILITY = DISABLED 
GO
ALTER DATABASE [BD_FARMACIA] SET QUERY_STORE = OFF
GO
USE [BD_FARMACIA]
GO
/****** Object:  Table [dbo].[TABLA_CATEGORIA_MEDICAMENTO]    Script Date: 10/06/2020 12:03:48 a. m. ******/
SET ANSI_NULLS ON
GO
SET QUOTED_IDENTIFIER ON
GO
CREATE TABLE [dbo].[TABLA_CATEGORIA_MEDICAMENTO](
	[ID_CATEGORIA_MEDICAMENTO] [int] NOT NULL,
	[CATEGORIA_MEDICAMENTO] [varchar](20) NULL,
PRIMARY KEY CLUSTERED 
(
	[ID_CATEGORIA_MEDICAMENTO] ASC
)WITH (PAD_INDEX = OFF, STATISTICS_NORECOMPUTE = OFF, IGNORE_DUP_KEY = OFF, ALLOW_ROW_LOCKS = ON, ALLOW_PAGE_LOCKS = ON) ON [PRIMARY]
) ON [PRIMARY]
GO
/****** Object:  Table [dbo].[TABLA_MEDICAMENTO]    Script Date: 10/06/2020 12:03:48 a. m. ******/
SET ANSI_NULLS ON
GO
SET QUOTED_IDENTIFIER ON
GO
CREATE TABLE [dbo].[TABLA_MEDICAMENTO](
	[ID_MEDICAMENTO] [int] NOT NULL,
	[ID_CATEGORIA_MEDICAMENTO] [int] NOT NULL,
	[NOMBRE_MEDICAMENTO] [varchar](25) NULL,
	[MILIGRAMOS_MILILITROS] [varchar](25) NULL,
	[COMPUESTO] [varchar](50) NULL,
	[DESCRIPCION_MEDICAMENTO] [varchar](50) NULL,
	[CANTIDAD_POR_HABER] [int] NULL,
	[CANTIDAD_STOCK] [int] NULL,
PRIMARY KEY CLUSTERED 
(
	[ID_MEDICAMENTO] ASC
)WITH (PAD_INDEX = OFF, STATISTICS_NORECOMPUTE = OFF, IGNORE_DUP_KEY = OFF, ALLOW_ROW_LOCKS = ON, ALLOW_PAGE_LOCKS = ON) ON [PRIMARY]
) ON [PRIMARY]
GO
/****** Object:  Table [dbo].[TABLA_TIPOS_EMPLEADO]    Script Date: 10/06/2020 12:03:48 a. m. ******/
SET ANSI_NULLS ON
GO
SET QUOTED_IDENTIFIER ON
GO
CREATE TABLE [dbo].[TABLA_TIPOS_EMPLEADO](
	[ID_TIPO_USUARIO] [int] NOT NULL,
	[DESCRIPCION] [varchar](50) NULL,
PRIMARY KEY CLUSTERED 
(
	[ID_TIPO_USUARIO] ASC
)WITH (PAD_INDEX = OFF, STATISTICS_NORECOMPUTE = OFF, IGNORE_DUP_KEY = OFF, ALLOW_ROW_LOCKS = ON, ALLOW_PAGE_LOCKS = ON) ON [PRIMARY]
) ON [PRIMARY]
GO
/****** Object:  Table [dbo].[TABLA_USUARIO]    Script Date: 10/06/2020 12:03:48 a. m. ******/
SET ANSI_NULLS ON
GO
SET QUOTED_IDENTIFIER ON
GO
CREATE TABLE [dbo].[TABLA_USUARIO](
	[ID_USUARIO] [int] NOT NULL,
	[USER_USUARIO] [varchar](20) NULL,
	[PASSWORD_USUARIO] [varchar](50) NULL,
	[NOMBRE_U] [varchar](20) NULL,
	[APELLIDO_P_U] [varchar](20) NULL,
	[APELLIDO_M_U] [varchar](20) NULL,
	[ACTIVO] [bit] NULL,
	[ID_TIPO_USUARIO] [int] NULL,
 CONSTRAINT [PK__TABLA_US__91136B9049616051] PRIMARY KEY CLUSTERED 
(
	[ID_USUARIO] ASC
)WITH (PAD_INDEX = OFF, STATISTICS_NORECOMPUTE = OFF, IGNORE_DUP_KEY = OFF, ALLOW_ROW_LOCKS = ON, ALLOW_PAGE_LOCKS = ON) ON [PRIMARY]
) ON [PRIMARY]
GO
/****** Object:  Table [dbo].[TABLA_VENTAS]    Script Date: 10/06/2020 12:03:48 a. m. ******/
SET ANSI_NULLS ON
GO
SET QUOTED_IDENTIFIER ON
GO
CREATE TABLE [dbo].[TABLA_VENTAS](
	[ID_VENTA] [int] NOT NULL,
	[ID_USUARIO] [int] NOT NULL,
	[ID_MEDICAMENTO] [int] NOT NULL,
	[CANTIDAD] [int] NULL,
 CONSTRAINT [PK__TABLA_VE__F3B6C1B4F678DBD7] PRIMARY KEY CLUSTERED 
(
	[ID_VENTA] ASC
)WITH (PAD_INDEX = OFF, STATISTICS_NORECOMPUTE = OFF, IGNORE_DUP_KEY = OFF, ALLOW_ROW_LOCKS = ON, ALLOW_PAGE_LOCKS = ON) ON [PRIMARY]
) ON [PRIMARY]
GO
INSERT [dbo].[TABLA_CATEGORIA_MEDICAMENTO] ([ID_CATEGORIA_MEDICAMENTO], [CATEGORIA_MEDICAMENTO]) VALUES (1, N'VENTA CON RECETA')
GO
INSERT [dbo].[TABLA_CATEGORIA_MEDICAMENTO] ([ID_CATEGORIA_MEDICAMENTO], [CATEGORIA_MEDICAMENTO]) VALUES (2, N'VENTA LIBRE')
GO
INSERT [dbo].[TABLA_MEDICAMENTO] ([ID_MEDICAMENTO], [ID_CATEGORIA_MEDICAMENTO], [NOMBRE_MEDICAMENTO], [MILIGRAMOS_MILILITROS], [COMPUESTO], [DESCRIPCION_MEDICAMENTO], [CANTIDAD_POR_HABER], [CANTIDAD_STOCK]) VALUES (1, 2, N'ASPIRINA PROTECT', N'100', N'ACIDO ACETILSALICILICO', N'PREVENIR INFARTO MIOCARDIO', 60, 30)
GO
INSERT [dbo].[TABLA_MEDICAMENTO] ([ID_MEDICAMENTO], [ID_CATEGORIA_MEDICAMENTO], [NOMBRE_MEDICAMENTO], [MILIGRAMOS_MILILITROS], [COMPUESTO], [DESCRIPCION_MEDICAMENTO], [CANTIDAD_POR_HABER], [CANTIDAD_STOCK]) VALUES (2, 2, N'TRAMADOL, PARACETAMOL', N'37.5/325', N'CLORHIDRATO DE TRAMADOL, PARACETAMOL', N'DOLOR MODERADO A SEVERO', 30, 15)
GO
INSERT [dbo].[TABLA_MEDICAMENTO] ([ID_MEDICAMENTO], [ID_CATEGORIA_MEDICAMENTO], [NOMBRE_MEDICAMENTO], [MILIGRAMOS_MILILITROS], [COMPUESTO], [DESCRIPCION_MEDICAMENTO], [CANTIDAD_POR_HABER], [CANTIDAD_STOCK]) VALUES (3, 2, N'TABCIN ACTIVE', N'250/2', N'PARACETALMOL, CLORFENAMINA', N'GRIPE Y TOS', 50, 25)
GO
INSERT [dbo].[TABLA_MEDICAMENTO] ([ID_MEDICAMENTO], [ID_CATEGORIA_MEDICAMENTO], [NOMBRE_MEDICAMENTO], [MILIGRAMOS_MILILITROS], [COMPUESTO], [DESCRIPCION_MEDICAMENTO], [CANTIDAD_POR_HABER], [CANTIDAD_STOCK]) VALUES (4, 2, N'TREDA', N'129/280/30', N'NEOMICINA, CAOLIN, PECTICINA', N'DIARREA', 40, 5)
GO
INSERT [dbo].[TABLA_MEDICAMENTO] ([ID_MEDICAMENTO], [ID_CATEGORIA_MEDICAMENTO], [NOMBRE_MEDICAMENTO], [MILIGRAMOS_MILILITROS], [COMPUESTO], [DESCRIPCION_MEDICAMENTO], [CANTIDAD_POR_HABER], [CANTIDAD_STOCK]) VALUES (5, 2, N'PEPTO BISMOL', N'525', N'SUBSALICILATO DE BISMUTO', N'ACIDEZ, MALESTAR ESTOMACAL, INDIGESTION', 20, 10)
GO
INSERT [dbo].[TABLA_MEDICAMENTO] ([ID_MEDICAMENTO], [ID_CATEGORIA_MEDICAMENTO], [NOMBRE_MEDICAMENTO], [MILIGRAMOS_MILILITROS], [COMPUESTO], [DESCRIPCION_MEDICAMENTO], [CANTIDAD_POR_HABER], [CANTIDAD_STOCK]) VALUES (6, 1, N'SEVERENT', N'25', N'SALMETEROL', N'ASMA', 5, 3)
GO
INSERT [dbo].[TABLA_MEDICAMENTO] ([ID_MEDICAMENTO], [ID_CATEGORIA_MEDICAMENTO], [NOMBRE_MEDICAMENTO], [MILIGRAMOS_MILILITROS], [COMPUESTO], [DESCRIPCION_MEDICAMENTO], [CANTIDAD_POR_HABER], [CANTIDAD_STOCK]) VALUES (7, 1, N'TAFIL AP', N'0.5', N'ALPRAZOLAM', N'ANSIEDAD', 5, 1)
GO
INSERT [dbo].[TABLA_MEDICAMENTO] ([ID_MEDICAMENTO], [ID_CATEGORIA_MEDICAMENTO], [NOMBRE_MEDICAMENTO], [MILIGRAMOS_MILILITROS], [COMPUESTO], [DESCRIPCION_MEDICAMENTO], [CANTIDAD_POR_HABER], [CANTIDAD_STOCK]) VALUES (8, 1, N'DORMICUM', N'7.5', N'MIDOZALAM', N'ANESTESIA', 5, 5)
GO
INSERT [dbo].[TABLA_MEDICAMENTO] ([ID_MEDICAMENTO], [ID_CATEGORIA_MEDICAMENTO], [NOMBRE_MEDICAMENTO], [MILIGRAMOS_MILILITROS], [COMPUESTO], [DESCRIPCION_MEDICAMENTO], [CANTIDAD_POR_HABER], [CANTIDAD_STOCK]) VALUES (9, 1, N'CHAMPIX', N'1', N'VARENICLINA', N'ADICCION AL TABACO', 5, 2)
GO
INSERT [dbo].[TABLA_MEDICAMENTO] ([ID_MEDICAMENTO], [ID_CATEGORIA_MEDICAMENTO], [NOMBRE_MEDICAMENTO], [MILIGRAMOS_MILILITROS], [COMPUESTO], [DESCRIPCION_MEDICAMENTO], [CANTIDAD_POR_HABER], [CANTIDAD_STOCK]) VALUES (10, 1, N'VALDOXA', N'25', N'AGOMELATINA', N'ANTIDEPRESIVO', 5, 4)
GO
INSERT [dbo].[TABLA_TIPOS_EMPLEADO] ([ID_TIPO_USUARIO], [DESCRIPCION]) VALUES (1, N'ADMINISTRADOR')
GO
INSERT [dbo].[TABLA_TIPOS_EMPLEADO] ([ID_TIPO_USUARIO], [DESCRIPCION]) VALUES (2, N'EMPLEADO NORMAL')
GO
INSERT [dbo].[TABLA_USUARIO] ([ID_USUARIO], [USER_USUARIO], [PASSWORD_USUARIO], [NOMBRE_U], [APELLIDO_P_U], [APELLIDO_M_U], [ACTIVO], [ID_TIPO_USUARIO]) VALUES (1, N'javier', N'123', N'JAVIER', N'GARCIA', N'CUEVAS', 1, 1)
GO
INSERT [dbo].[TABLA_USUARIO] ([ID_USUARIO], [USER_USUARIO], [PASSWORD_USUARIO], [NOMBRE_U], [APELLIDO_P_U], [APELLIDO_M_U], [ACTIVO], [ID_TIPO_USUARIO]) VALUES (2, N'yisus89', N'123', N'JESUS', N'HERNANDEZ', N'SANTOYO', 1, 2)
GO
INSERT [dbo].[TABLA_USUARIO] ([ID_USUARIO], [USER_USUARIO], [PASSWORD_USUARIO], [NOMBRE_U], [APELLIDO_P_U], [APELLIDO_M_U], [ACTIVO], [ID_TIPO_USUARIO]) VALUES (3, N'eliseo', N'123', N'ELISEO', N'NAVARRO', N'CAVAZOS', 1, 2)
GO
INSERT [dbo].[TABLA_USUARIO] ([ID_USUARIO], [USER_USUARIO], [PASSWORD_USUARIO], [NOMBRE_U], [APELLIDO_P_U], [APELLIDO_M_U], [ACTIVO], [ID_TIPO_USUARIO]) VALUES (4, N'apkapk', N'123', N'MARCO', N'RAMIREZ', N'PEREZ', 1, 1)
GO
ALTER TABLE [dbo].[TABLA_MEDICAMENTO]  WITH CHECK ADD  CONSTRAINT [ID_CATEGORIA_MEDICAMENTO] FOREIGN KEY([ID_CATEGORIA_MEDICAMENTO])
REFERENCES [dbo].[TABLA_CATEGORIA_MEDICAMENTO] ([ID_CATEGORIA_MEDICAMENTO])
GO
ALTER TABLE [dbo].[TABLA_MEDICAMENTO] CHECK CONSTRAINT [ID_CATEGORIA_MEDICAMENTO]
GO
ALTER TABLE [dbo].[TABLA_USUARIO]  WITH CHECK ADD  CONSTRAINT [FK_TABLA_USUARIO_TABLA_TIPOS_EMPLEADO] FOREIGN KEY([ID_TIPO_USUARIO])
REFERENCES [dbo].[TABLA_TIPOS_EMPLEADO] ([ID_TIPO_USUARIO])
GO
ALTER TABLE [dbo].[TABLA_USUARIO] CHECK CONSTRAINT [FK_TABLA_USUARIO_TABLA_TIPOS_EMPLEADO]
GO
ALTER TABLE [dbo].[TABLA_VENTAS]  WITH CHECK ADD  CONSTRAINT [FK_TABLA_VENTAS_TABLA_MEDICAMENTO] FOREIGN KEY([ID_MEDICAMENTO])
REFERENCES [dbo].[TABLA_MEDICAMENTO] ([ID_MEDICAMENTO])
GO
ALTER TABLE [dbo].[TABLA_VENTAS] CHECK CONSTRAINT [FK_TABLA_VENTAS_TABLA_MEDICAMENTO]
GO
ALTER TABLE [dbo].[TABLA_VENTAS]  WITH CHECK ADD  CONSTRAINT [ID_USUARIO] FOREIGN KEY([ID_USUARIO])
REFERENCES [dbo].[TABLA_USUARIO] ([ID_USUARIO])
GO
ALTER TABLE [dbo].[TABLA_VENTAS] CHECK CONSTRAINT [ID_USUARIO]
GO
USE [master]
GO
ALTER DATABASE [BD_FARMACIA] SET  READ_WRITE 
GO
